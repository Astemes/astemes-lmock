
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Anton Sundqvist" name="author"/>
<link href="http://astemes.com/" rel="canonical"/>
<link href="Style/logo.png" rel="icon"/>
<meta content="mkdocs-1.2.3, mkdocs-material-7.3.4" name="generator"/>
<title>Astemes LMock</title>
<link href="assets/stylesheets/main.db9e7362.min.css" rel="stylesheet"/>
<link href="assets/stylesheets/palette.3f5d1f46.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
<link href="Style/style.css" rel="stylesheet"/>
</head>
<body data-md-color-accent="none" data-md-color-primary="none" data-md-color-scheme="" dir="ltr">
<script>function __prefix(e){return new URL(".",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#astemes-lmock-toolkit">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Astemes LMock" class="md-header__button md-logo" data-md-component="logo" href="." title="Astemes LMock">
<img alt="logo" src="Style/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Astemes LMock
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Astemes LMock Toolkit
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/astemes/astemes-lmock/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Astemes LMock" class="md-nav__button md-logo" data-md-component="logo" href="." title="Astemes LMock">
<img alt="logo" src="Style/logo.png"/>
</a>
    Astemes LMock
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/astemes/astemes-lmock/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="10_Introduction/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="30_Writing%20Tests%20Using%20Mocks/">
        Writing Tests Using Mocks
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="50_Framework%20Architecture/Framework%20Architecture/">
        Framework Architecture
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
          License
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="License" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          License
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="90_License/10_Astemes%20LMock/LICENSE/">
        Astemes LMock
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="90_License/20_Astemes%20LUnit/LICENSE/">
        Astemes LUnit
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#getting-started">
    Getting Started
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#test-doubles-and-mocks">
    Test Doubles and Mocks
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#purpose-of-lmock">
    Purpose of LMock
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#a-recommendation">
    A Recommendation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#is-it-free-and-open-source">
    Is it free and open source?
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#versioning">
    Versioning
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#support">
    Support
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#contribute">
    Contribute
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/astemes/astemes-lmock/edit/master/docs/index.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="astemes-lmock-toolkit">Astemes LMock Toolkit</h1>
<p>LMock is a LabVIEW mocking toolkit used for automatically generating and maintaining mock classes.
A mock is a test double used, in place of a concrete implementation, when writing automated tests.
This enables testing units of code in isolation, as the interface to the rest of the system is "mocked".
Using a mock the behavior of the code under test can be verified, by checking that the expected VI calls are made.
Furthermore, outputs from calls to the mocked objects can be predefined to stimulate and control the system under test.
The LMock toolkit features an expressive API, powerful scripting features, and detailed failure descriptions.</p>
<p>The easiest way to install LMock is through <a href="https://www.vipm.io/package/astemes_lib_lmock/">VIPM</a>.
LMock is an add-on to <a href="https://www.github.com/astemes/astemes-lunit">LUnit</a> and is maintained by Astemes under an MIT license.</p>
<p>The full documentation is available at <a href="https://lmock.astemes.com">https://lmock.astemes.com</a>.</p>
<p>A presentation giving an introduction to LMock was given during GLA Summit 2024 and is available <a href="https://www.youtube.com/watch?v=AvenQTc_GCc">here</a>.</p>
<h2 id="getting-started">Getting Started</h2>
<p>Before beginning to use LMock, you will need to have LUnit installed (available at NI Tools Network and VIPM) and you should be familiar with the toolkit.
Next install the LMock latest package, either from the <a href="https://github.com/Astemes/astemes-lmock/releases">Releases</a> section of through VIPM.
After installing LMock, the API is available in the LMock Functions Palette and the right-click menus are avaliable after restarting LabVIEW.
Please see the <a href="https://lmock.astemes.com/">getting started documeentation</a>.).</p>
<p>For some general advice on working with mocks, see e.g. <a href="https://github.com/mockito/mockito/wiki/How-to-write-good-tests">this page</a>.</p>
<h2 id="test-doubles-and-mocks">Test Doubles and Mocks</h2>
<p>When writing unit tests there are basically three ways for tests to make assertions about the system under test. </p>
<ol>
<li>Verify an output given some input data </li>
<li>Verify the state of an external object acted uppn by the unit under test</li>
<li>Verify calls to code external to the unit under test</li>
</ol>
<p>In general, one should have a preference for the earlier types of tests in the list, but there are many cases where it is simply not feasible to have a pure functional VI. 
Test doubles are used to handle the latter items in the listing and are valueable tools for verifying the behavior of the code.
Examples could be interation with instrumentation, the file system, a network, a database, or any situation where one need to verify the interaction with an external component. </p>
<p>There is a lot of literature available on the subject and it is not the purpose of this document to pharaphrase existing material.
I gave <a href="https://www.youtube.com/watch?v=6cfifZbhZsE&amp;t=44s">a presentation</a> during GDevCon 2022, which explores unit testing and introduced the concept of mocks.</p>
<h2 id="purpose-of-lmock">Purpose of LMock</h2>
<p>While it is pretty easy to write test diubles in LabVIEW, it is a task which becomes repetitive and a bit dull.
Often the same type of code is written or copy/pasted repeatedly in slightly different ways, which makes the tests error prone and unnecessarily difficult to understand.</p>
<p>The reasons why LMock exists is to:</p>
<ul>
<li>Enable robust and low maintenance mock-based testing</li>
<li>Eliminate mistakes and inconsistency caused by manual duplication of boilerplate code</li>
<li>Improve expressiveness and fault localization of mock-based tests</li>
<li>Reduce test time through very fast mock code execution</li>
<li>Reduce development time through automatic code generation</li>
<li>Minimize friction for creating good design</li>
</ul>
<p>In many common languages, there is good tooling available for generating and working with mocks.
LMock was inspired by the Java libraries <a href="http://jmock.org/">jMock</a> and <a href="http://mockito.org">Mockito</a>.
These libraries uses and abuses the syntax of Java to generate very elegant test code, and LMock brings this tradition into LabVIEW with some slightly unorthodox design choices. </p>
<h2 id="a-recommendation">A Recommendation</h2>
<p>If you are new to unit tests and test driven development, learning to use a mocking library is not the best way to get started.
Mocks are powerful tools, but should only be used when direct verification cannot be achieved.
While using a toolkit such as LMock can save some time writing, reading, and maintaining code, it is important that the developer understands the underlying concepts.</p>
<h2 id="is-it-free-and-open-source">Is it free and open source?</h2>
<p>Yes, absolutely!
LMock is released by <a href="https://www.astemes.com">Astemes</a> under the MIT license.
If you find it useful, please consider starring the project on GitHub and VIPM.</p>
<h2 id="versioning">Versioning</h2>
<p>LMock uses semantic version in the format major.minor.fix.build. 
The build version is of little significance as it only denotes the number of the build.
The fix indicates a bug fix, minor feature, or other improvement. 
As new major features are released or the number of minor feature releases accumulates, the minor version is incremented.
Minor version updates are uploaded to VIPM and NI Tools Network after an initial testing period.
These updates should be non-breaking and should not require any changes to the client code.
A major version update would mean that code developed using an earlier version might need modification.</p>
<h2 id="support">Support</h2>
<p>LMock is an open source toolkit provided as is and without guarantees by <a href="https://www.astemes.com">Astemes</a>. If you encounter issues, use GitHub Issues to report and track the progress. If you have a suggestion for a solution, please consider making pull request. For paid-for professional support, please <a href="https://www.astemes.com/contact">contact Astemes directly</a>.</p>
<h2 id="contribute">Contribute</h2>
<p>If you find LMock useful, please share it with your colleagues and network to help grow the user base.
Also, consider starring the project on VIPM or GitHub to let us know that you like it.
If you find a bug, use the Issues section on GitHub.
To take a more active role, please feel free to fork the project and make a pull request.</p>
<p>This toolkit explores ideas and the paradigm for working with mocks in LabVIEW. 
Any kind of feedback, such ass usability improvements, missing features, bug reports or general discussion, is always welcome. </p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Copyright © 2023 - 2025 Astemes
          </div>
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
            Material for MkDocs
          </a>
 ... <a class="link--pdf-download" download href=".\Astemes LMock.pdf" title="PDF">download PDF</a></div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": ".", "features": ["navigation.indexes"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "assets/javascripts/workers/search.8397ff9e.min.js", "version": null}</script>
<script src="assets/javascripts/bundle.1e84347e.min.js"></script>
</body>
</html>